{"version":3,"sources":["components/Person.js","components/Persons.js","components/PersonForm.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","person","handlePersonDelete","name","number","onClick","id","Persons","persons","map","key","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","Filter","filterWord","handleFilterChange","baseUrl","axios","get","newObject","post","delete","put","Notification","message","notificationStyle","color","background","fontSize","bordeStyle","bordeRadius","padding","marginBottom","style","App","useState","setPersons","setNewName","setNewNumber","setFilterWord","setMessage","setColor","useEffect","personService","then","response","data","handleMessages","setTimeout","personsToShow","filter","toUpperCase","includes","event","target","preventDefault","personObject","window","confirm","updateId","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.addea45f.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({person, handlePersonDelete}) => {\n\n    return (\n        <p>{person.name} {person.number} <button onClick={() => handlePersonDelete(person.id)}>delete</button></p>\n    )\n}\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({persons, handlePersonDelete}) => {\n    return (\n        <div>\n            {persons.map(person =>\n                <Person key={person.name} person={person} handlePersonDelete={handlePersonDelete}/>   \n            )}\n        </div>\n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst PersonForm = ({addPerson, newName, handleNameChange, newNumber, handleNumberChange}) => {\n    return (\n        <div>\n            <form onSubmit={addPerson}>\n            <div>\n            name: <input value={newName} onChange={handleNameChange}/>\n            </div>\n            <div>\n            number: <input value={newNumber} onChange={handleNumberChange}/>\n            </div>\n            <div>\n            <button type=\"submit\">add</button>\n            </div>\n            </form>\n            </div>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ({filterWord, handleFilterChange}) => {\n    return(\n        <div>\n            filter <input value={filterWord} onChange={handleFilterChange} />\n        </div>\n    )\n}\n\nexport default Filter","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    return axios.get(baseUrl)\n}\n\nconst create = (newObject) => {\n    return axios.post(baseUrl, newObject)\n}\n\nconst removePerson = (id) => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst updateNumber = (id, newObject) => {\n    return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\n\nexport default { getAll, create, removePerson, updateNumber }","import React from 'react'\n\nconst Notification = ({message, color}) => {\n\n    const notificationStyle = {\n        color: color,\n        background: 'lightgrey',\n        fontSize: 20,\n        bordeStyle: 'solid',\n        bordeRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n\n    \n\n    if(message === null) {\n        return null\n    }\n\n    return(\n        <div style={notificationStyle}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ filterWord, setFilterWord] = useState('')\n  const [ message, setMessage] = useState(null)\n  const [ color, setColor] = useState('green')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n          setPersons(response.data)\n      })\n\n  }, [])\n\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if(persons.map(person => person.name).includes(newName)) {\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const id = persons.filter(person => person.name === newName).map(person => person.id)\n        \n        personService\n          .updateNumber(id, personObject)\n          .then(response => {\n            const updateId = id[0]\n            setPersons(persons.map(person => person.id !== updateId ? person : response.data))  \n            handleMessages(`Updated ${newName}`)\n            setColor('green')\n          })\n          .catch(error=> {\n            handleMessages(`Problem updating ${personObject.name}, no information found`)\n            setColor('red')\n          })\n      }\n\n    } else {\n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          handleMessages(`Added ${newName}`)\n          setColor('green')\n        })\n        .catch(error => {\n          handleMessages(error.response.data[\"error\"])\n          setColor('red')\n        })\n    }\n\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilterWord(event.target.value)\n  }\n\n  const handlePersonDelete = (id) => {\n    if(window.confirm(`Delete ${persons.filter(person => person.id === id)[0].name} ?`)) {\n      personService.removePerson(id)\n        .then(response => {\n          setPersons(persons.filter(person => person.id !== id))\n          handleMessages(`Removed ${persons.filter(person => person.id === id).map(person => person.name)}`)\n          setColor('green')\n        })\n        .catch(error => {\n          handleMessages(error.response.data[\"error\"])\n          setColor('red')\n        })\n    }\n  }\n\n  const handleMessages = (message) => {\n    setMessage(\n      message\n    )\n    setTimeout(() => {\n      setMessage(null)\n    }, 4000)\n  }\n\n\n  const personsToShow = (filterWord === '')\n      ? persons\n      : persons.filter(person => person.name.toUpperCase().includes(filterWord.toUpperCase()))\n\n  \n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} color={color}/>\n      <Filter filterWord={filterWord} handleFilterChange={handleFilterChange}/>\n      <h3>add a new</h3>\n      <PersonForm addPerson={addPerson} newName={newName} \n        handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={personsToShow} handlePersonDelete={handlePersonDelete}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}